{"ast":null,"code":"document.addEventListener('DOMContentLoaded',function(){checkLoginStatus();// 로그인 버튼 클릭 시\nconst loginBtn=document.getElementById('login-btn');if(loginBtn){loginBtn.addEventListener('click',function(){window.location.href='login.html';// 로그인 페이지로 이동\n});}// 회원가입 버튼 클릭 시\nconst signupBtn=document.getElementById('signup-btn');if(signupBtn){signupBtn.addEventListener('click',function(){window.location.href='signup.html';// 회원가입 페이지로 이동\n});}// 로그아웃 버튼 클릭 시\nconst logoutBtn=document.getElementById('logout-btn');if(logoutBtn){logoutBtn.addEventListener('click',function(){localStorage.removeItem('token');// 로컬 스토리지에서 토큰 삭제\ncheckLoginStatus();// 로그인 상태 확인\n});}// 내 자산 버튼 클릭 시 발란스 페이지로 이동\nconst myAssetsBtn=document.getElementById('my-assets');if(myAssetsBtn){myAssetsBtn.addEventListener('click',function(){window.location.href='balance.html';// 발란스 페이지로 이동\n});}});// 로그인 상태 확인 함수\nfunction checkLoginStatus(){const token=localStorage.getItem('token');const greetingMessage=document.getElementById('greeting-message');const balanceElement=document.getElementById('balance');const authMenu=document.getElementById('auth-menu');const logoutBtn=document.getElementById('logout-btn');const myAssets=document.getElementById('my-assets');if(token){// 로그인 상태일 경우\nauthMenu.style.display='none';// 로그인/회원가입 버튼 숨기기\nlogoutBtn.style.display='inline-block';// 로그아웃 버튼 보이기\nmyAssets.style.display='inline-block';// 내 자산 버튼 보이기\ngetUserInfo(token);// 사용자 정보와 잔고를 가져오는 함수 호출\nif(greetingMessage){greetingMessage.style.display='inline-block';// 로그인 시 이름을 표시하기 위해 보이게 함\n}}else{// 로그인 안 된 상태일 경우\nif(greetingMessage){greetingMessage.style.display='none';// 로그인되지 않은 상태에서는 인사 메시지 숨기기\n}if(balanceElement){balanceElement.style.display='none';// 잔고 숨기기\n}logoutBtn.style.display='none';// 로그아웃 버튼 숨기기\nauthMenu.style.display='block';// 로그인/회원가입 버튼 보이기\nmyAssets.style.display='none';// 내 자산 버튼 숨기기\n}}// 서버에서 사용자 정보 및 잔고를 가져오는 함수\nfunction getUserInfo(token){fetch('http://localhost:5000/user',{method:'GET',headers:{'Authorization':\"Bearer \".concat(token)}}).then(response=>response.json()).then(data=>{if(data.balance!==undefined){const greetingMessage=document.getElementById('greeting-message');const balanceElement=document.getElementById('balance');if(greetingMessage){greetingMessage.textContent=\"\".concat(data.name,\"\\uB2D8, \\uBC18\\uAC11\\uC2B5\\uB2C8\\uB2E4!\");// 사용자 이름\n}}else{console.error('잔고 정보가 없습니다.');}}).catch(error=>{console.error('잔고 정보를 가져오는 데 오류가 발생했습니다:',error);});}","map":{"version":3,"names":["document","addEventListener","checkLoginStatus","loginBtn","getElementById","window","location","href","signupBtn","logoutBtn","localStorage","removeItem","myAssetsBtn","token","getItem","greetingMessage","balanceElement","authMenu","myAssets","style","display","getUserInfo","fetch","method","headers","concat","then","response","json","data","balance","undefined","textContent","name","console","error","catch"],"sources":["C:/Users/fdgdfg/Desktop/as/src/index.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n    checkLoginStatus();\r\n\r\n    // 로그인 버튼 클릭 시\r\n    const loginBtn = document.getElementById('login-btn');\r\n    if (loginBtn) {\r\n        loginBtn.addEventListener('click', function () {\r\n            window.location.href = 'login.html';  // 로그인 페이지로 이동\r\n        });\r\n    }\r\n\r\n    // 회원가입 버튼 클릭 시\r\n    const signupBtn = document.getElementById('signup-btn');\r\n    if (signupBtn) {\r\n        signupBtn.addEventListener('click', function () {\r\n            window.location.href = 'signup.html';  // 회원가입 페이지로 이동\r\n        });\r\n    }\r\n\r\n    // 로그아웃 버튼 클릭 시\r\n    const logoutBtn = document.getElementById('logout-btn');\r\n    if (logoutBtn) {\r\n        logoutBtn.addEventListener('click', function () {\r\n            localStorage.removeItem('token');  // 로컬 스토리지에서 토큰 삭제\r\n            checkLoginStatus();  // 로그인 상태 확인\r\n        });\r\n    }\r\n\r\n    // 내 자산 버튼 클릭 시 발란스 페이지로 이동\r\n    const myAssetsBtn = document.getElementById('my-assets');\r\n    if (myAssetsBtn) {\r\n        myAssetsBtn.addEventListener('click', function () {\r\n            window.location.href = 'balance.html';  // 발란스 페이지로 이동\r\n        });\r\n    }\r\n});\r\n\r\n// 로그인 상태 확인 함수\r\nfunction checkLoginStatus() {\r\n    const token = localStorage.getItem('token');\r\n    const greetingMessage = document.getElementById('greeting-message');\r\n    const balanceElement = document.getElementById('balance');\r\n    const authMenu = document.getElementById('auth-menu');\r\n    const logoutBtn = document.getElementById('logout-btn');\r\n    const myAssets = document.getElementById('my-assets');\r\n\r\n    if (token) {\r\n        // 로그인 상태일 경우\r\n        authMenu.style.display = 'none';  // 로그인/회원가입 버튼 숨기기\r\n        logoutBtn.style.display = 'inline-block';  // 로그아웃 버튼 보이기\r\n        myAssets.style.display = 'inline-block';  // 내 자산 버튼 보이기\r\n        getUserInfo(token);  // 사용자 정보와 잔고를 가져오는 함수 호출\r\n        if (greetingMessage) {\r\n            greetingMessage.style.display = 'inline-block';  // 로그인 시 이름을 표시하기 위해 보이게 함\r\n        }\r\n    } else {\r\n        // 로그인 안 된 상태일 경우\r\n        if (greetingMessage) {\r\n            greetingMessage.style.display = 'none';  // 로그인되지 않은 상태에서는 인사 메시지 숨기기\r\n        }\r\n        if (balanceElement) {\r\n            balanceElement.style.display = 'none';  // 잔고 숨기기\r\n        }\r\n        logoutBtn.style.display = 'none';  // 로그아웃 버튼 숨기기\r\n        authMenu.style.display = 'block';  // 로그인/회원가입 버튼 보이기\r\n        myAssets.style.display = 'none';  // 내 자산 버튼 숨기기\r\n    }\r\n}\r\n\r\n// 서버에서 사용자 정보 및 잔고를 가져오는 함수\r\nfunction getUserInfo(token) {\r\n    fetch('http://localhost:5000/user', {\r\n        method: 'GET',\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n        }\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        if (data.balance !== undefined) {\r\n            const greetingMessage = document.getElementById('greeting-message');\r\n            const balanceElement = document.getElementById('balance');\r\n            if (greetingMessage) {\r\n                greetingMessage.textContent = `${data.name}님, 반갑습니다!`;  // 사용자 이름\r\n            }\r\n            \r\n        } else {\r\n            console.error('잔고 정보가 없습니다.');\r\n        }\r\n    })\r\n    .catch(error => {\r\n        console.error('잔고 정보를 가져오는 데 오류가 발생했습니다:', error);\r\n    });\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}